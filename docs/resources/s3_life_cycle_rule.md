---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_s3_life_cycle_rule Resource - terraform-provider-vastdata"
subcategory: ""
description: |-
  
---

# vastdata_s3_life_cycle_rule (Resource)



## Example Usage

Create a user, create a view with S3 protocol, and attach an S3 lifecycle rule:

```terraform
resource "vastdata_user" "s3user" {
  name = "s3user"
  uid  = 2000

}

resource "vastdata_view" "s3-bucket-view" {
  policy_id    = data.vastdata_view_policy.s3_default_policy.id
  path         = "/s3view"
  bucket       = "s3view"
  protocols    = ["S3"]
  bucket_owner = vastdata_user.s3user.name
  create_dir   = true
}

resource "vastdata_s3_life_cycle_rule" "s3-bucket-view-lifecycle-rule" {
  name                      = "rule1"
  max_size                  = 10000000
  min_size                  = 100000
  newer_noncurrent_versions = 3
  prefix                    = "prefix"
  view_id                   = vastdata_view.s3-bucket-view.id
  expiration_days           = 30
  enabled                   = true
  noncurrent_days           = 20


}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0)
- `name` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) A unique name for the lifecycle rule.
- `prefix` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) Defines a scope of elements (objects, files or directories) by prefix. All objects with keys that begin with the specified prefix are included in the scope. In file and directory nomenclature, a prefix is a file and/or directory path within the view that can include part of the file or directory name. For example, sales/jan would include the file sales/january and the directory sales/jan/week1/. No characters are handled as wildcards.

### Optional

- `abort_mpu_days_after_initiation` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The number of days until expiration after an incomplete multipart upload.
- `expiration_date` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The object expiration date.
- `expiration_days` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The number of days from creation until an object expires.
- `expired_obj_delete_marker` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0) If `true`, removes expired object delete markers.
- `max_size` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The maximum size of the object.
- `min_size` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The minimum size of the object.
- `newer_noncurrent_versions` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The number of newer versions to retain.
- `noncurrent_days` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The number of days after objects become non-current.
- `view_id` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The ID of the view to which the lifecycle rule applies.
- `view_path` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The path of the view to which the lifecycle rule applies.

### Read-Only

- `guid` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The GUID of the lifecycle rule.
- `id` (String) The ID of this resource.

## Import

Use either of the following:
- Import by GUID:

        ```shell
        terraform import vastdata_s3_life_cycle_rule.example <GUID>
        ```
- Import by name:

        ```shell
        terraform import vastdata_s3_life_cycle_rule.example <name>
        ```
