---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_vip_pool Resource - terraform-provider-vastdata"
subcategory: ""
description: |-
  
---

# vastdata_vip_pool (Resource)



## Example Usage

Basic definition of a virtual IP pool:

```terraform
resource "vastdata_vip_pool" "pool1" {
  name        = "pool1"
  role        = "PROTOCOLS"
  subnet_cidr = "24"
  ip_ranges {
    end_ip   = "11.0.0.40"
    start_ip = "11.0.0.20"
  }

  ip_ranges {
    start_ip = "11.0.0.5"
    end_ip   = "11.0.0.10"
  }
}
```

A virtual IP pool can be associated with a tenant in two ways: by defining the `vastdata_tenant` resource, or by setting the `tenant_id` attribute on the virtual IP pool.
It is recommended to use only one of these methods per tenant and pool combination.

To define a virtual IP pool and associate it with a tenant using the `vastdata_tenant` resource:

```terraformm

resource "vastdata_vip_pool" "pool1" {
  name        = "pool1"
  role        = "PROTOCOLS"
  subnet_cidr = "24"
  ip_ranges {
    end_ip   = "11.0.0.40"
    start_ip = "11.0.0.20"
  }

  ip_ranges {
    start_ip = "11.0.0.5"
    end_ip   = "11.0.0.10"
  }
}

resource "vastdata_tenant" "tenant1" {
  name        = "tenant01"
  vippool_ids = [vastdata_vip_pool.pool1.id]
  client_ip_ranges {
    start_ip = "192.168.0.100"
    end_ip   = "192.168.0.200"
  }
}
```

To define a virtual IP pool and associate it with a tenant using the `tenant_id` attribute of the pool:

```terraform

resource "vastdata_vip_pool" "pool1" {
  name        = "pool1"
  role        = "PROTOCOLS"
  subnet_cidr = "24"
  tenant_id   = vastdata_tenant.tenant1.id
  ip_ranges {
    end_ip   = "11.0.0.40"
    start_ip = "11.0.0.20"
  }

  ip_ranges {
    start_ip = "11.0.0.5"
    end_ip   = "11.0.0.10"
  }
}

resource "vastdata_tenant" "tenant1" {
  name = "tenant01"
  client_ip_ranges {
    start_ip = "192.168.0.100"
    end_ip   = "192.168.0.200"
  }
}
```

To define a virtual IP pool for all tenants by setting `tenant_id = 0`:

```terraform
resource "vastdata_vip_pool" "pool1" {
  name        = "pool1"
  role        = "PROTOCOLS"
  subnet_cidr = "24"
  tenant_id   = 0
  ip_ranges {
    end_ip   = "11.0.0.40"
    start_ip = "11.0.0.20"
  }

  ip_ranges {
    start_ip = "11.0.0.5"
    end_ip   = "11.0.0.10"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `ip_ranges` (Block List, Min: 1) (Valid for versions: 5.0.0,5.1.0,5.2.0) IP ranges (see [nested schema](#nestedblock--ip_ranges) below).
- `name` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) A unique name for the virtual IP pool.
- `role` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The role of the virtual IP pool.

### Optional

- `active_interfaces` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) Number of active interfaces.
- `cluster` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) Parent cluster.
- `cnode_ids` (List of Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) IDs of CNodes comprising the CNode group.
- `domain_name` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0)
- `enable_l3` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0) Enables or disables L3 CNode access.
- `enabled` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0) Enables or disables the virtual IP pool.
- `gw_ip` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) Gateway IPv4 address.
- `gw_ipv6` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) Gateway IPv6 address.
- `peer_asn` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) Peer ASN (for L3 CNode access).
- `port_membership` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The port(s) on the CNode that this pool will use: `Right`, `Left` or `All`.
- `state` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0)
- `subnet_cidr` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) IPv4 subnet CIDR prefix (number of bits).
- `subnet_cidr_ipv6` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) IPv6 subnet CIDR prefix (number of bits).
- `tenant_id` (Number) (Valid for versions: 5.1.0,5.2.0) The ID of the tenant associated with the virtual IP pool. An ID of `0` (zero) means the virtual IP pool is available for all tenants.
- `url` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0)
- `vast_asn` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) VAST ASN.
- `vlan` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) Virtual IP pool VLAN.
- `vms_preferred` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0) If `true`, the CNodes included in this virtual IP pool are handled as preferred CNodes during VMS host election.

### Read-Only

- `guid` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The unique GUID of the virtual IP pool.
- `id` (String) The ID of this resource.

<a id="nestedblock--ip_ranges"></a>
### Nested Schema for `ip_ranges`

Optional:

- `end_ip` (String)
- `start_ip` (String)

## Import

Use either of the following:
- Import by GUID:

        ```shell
        terraform import vastdata_vip_pool.example <GUID>
        ```
- Import by name:

        ```shell
        terraform import vastdata_vip_pool.example <name>
        ```
