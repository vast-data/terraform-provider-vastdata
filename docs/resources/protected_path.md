---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_protected_path Resource - terraform-provider-vastdata"
subcategory: ""
description: |-
  
---

# vastdata_protected_path (Resource)



## Example Usage

Suppose that two clusters are defined, cluster A and cluster B. Start with defining all components that will be required to define a protected path.
This will set up replication from the view with path `/view1` on cluster A to the remote path `/view1` on cluster B.

```terraform

resource "vastdata_vip_pool" "pool" {
  provider    = vastdata.clusterA
  name        = "protocols-pool"
  role        = "PROTOCOLS"
  subnet_cidr = "24"
  ip_ranges {
    end_ip   = "11.0.0.80"
    start_ip = "11.0.0.70"
  }

}

resource "vastdata_view_policy" "view-policy" {
  provider      = vastdata.clusterA
  name          = "view-policy1"
  vip_pools     = [vastdata_vip_pool.pool.id]
  tenant_id     = vastdata_tenant.tenant.id
  flavor        = "NFS"
  nfs_no_squash = ["10.0.0.1", "10.0.0.2"]
}

resource "vastdata_view" "view" {
  path       = "/view1"
  policy_id  = vastdata_view_policy.view-policy.id
  tenant_id  = vastdata_tenant.tenant.id
  create_dir = "true"
  provider   = vastdata.clusterA
}

resource "vastdata_protection_policy" "protection-policy" {
  provider         = vastdata.clusterA
  name             = "protection-policy-1"
  clone_type       = "NATIVE_REPLICATION"
  indestructible   = "false"
  prefix           = "policy-1"
  target_object_id = vastdata_replication_peers.clusterA-clusterB-peer.id
  frames {
    every       = "1D"
    keep_local  = "2D"
    keep_remote = "3D"
    start_at    = "2023-06-04 09:00:00"
  }


}

resource "vastdata_tenant" "tenant-clusterB" {
  name     = "tenant2"
  provider = vastdata.clusterB
}

resource "vastdata_protected_path" "protected-path-view" {
  name                 = "protected-path-view"
  source_dir           = vastdata_view.view.path
  tenant_id            = vastdata_view.view.tenant_id
  target_exported_dir  = "/view1"
  protection_policy_id = vastdata_protection_policy.protection-policy.id
  remote_tenant_guid   = vastdata_tenant.tenant-clusterB.guid
  target_id            = vastdata_protection_policy.protection-policy.target_object_id

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) 

### Optional

- `capabilities` (String) (Valid for versions: 5.1.0,5.2.0) Allowed replication capabilities. This setting is available starting with VAST version 5.1.0. Valid values: [ASYNC_REPLICATION]
- `enabled` (Boolean) (Valid for versions: 5.0.0,5.1.0,5.2.0) Sets the protected path as enabled or disabled.
- `protection_policy_id` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The protection policy ID.
- `remote_tenant_guid` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The remote tenant GUID.
- `source_dir` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The source path to replicate from.
- `target_exported_dir` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The destination path to replicate to on the remote cluster.
- `target_id` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The remote target object ID.
- `tenant_id` (Number) (Valid for versions: 5.0.0,5.1.0,5.2.0) The local tenant ID.
- `timeouts` (Block, Optional) (see [nested schema](#nestedblock--timeouts) below)

### Read-Only

- `guid` (String) (Valid for versions: 5.0.0,5.1.0,5.2.0) The GUID of the protected path.
- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `delete` (String)

## Import

Use either of the following:
- Import by GUID:

        ```shell
        terraform import vastdata_protected_path.example <GUID>
        ```
- Import by name:

        ```shell
        terraform import vastdata_protected_path.example <name>
        ```
