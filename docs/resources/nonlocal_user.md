---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_nonlocal_user Resource - vastdata"
subcategory: ""
description: |-
  
---

# vastdata_nonlocal_user (Resource)



## Example Usage

```terraform
resource "vastdata_nonlocal_user" "vastdb_nonlocal_user" {
  uid = 1000
}

# ---------------------
# Complete examples
# ---------------------

data "vastdata_tenant" "vastdb_tenant" {
  name = "default"
}

resource "vastdata_s3_policy" "vastdb_s3policy" {
  name      = "vastdb_s3policy"
  tenant_id = data.vastdata_tenant.vastdb_tenant.id
  policy    = <<EOT
        {
           "Version":"2012-10-17",
           "Statement":[
              {
                 "Effect":"Allow",
                 "Action": "s3:ListAllMyBuckets",
                 "Resource":"*"
              },
              {
                 "Effect":"Allow",
                 "Action":["s3:ListObjects","s3:GetBucketLocation"],
                 "Resource":"arn:aws:s3:::DOC-EXAMPLE-BUCKET1"
              },
              {
                 "Effect":"Allow",
                 "Action":[
                    "s3:PutObject",
                    "s3:PutObjectAcl",
                    "s3:GetObject",
                    "s3:GetObjectAcl",
                    "s3:DeleteObject"
                 ],
                 "Resource":"arn:aws:s3:::DOC-EXAMPLE-BUCKET1/*"
              }
           ]
        }
        EOT
}


resource "vastdata_user" "vastdb_user" {
  name = "vastdb_user"
  uid  = 30109
}


resource "vastdata_nonlocal_user" "vastdb_nonlocal_user" {
  uid                 = vastdata_user.vastdb_user.uid
  tenant_id           = data.vastdata_tenant.vastdb_tenant.id
  allow_create_bucket = false
  allow_delete_bucket = true
  s3_superuser        = false
  s3_policies_ids = [
    vastdata_s3_policy.vastdb_s3policy.id
  ]
}

# --------------------
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `allow_create_bucket` (Boolean) Set to true to give the user permission to create S3 buckets. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `allow_delete_bucket` (Boolean) Set to true to give the user permission to delete S3 buckets. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `context` (String) Specify the context for the user query. 'local' restricts the search to the local provider. 'udb' searches the cluster's user database for the user. The output in this case includes the VID (VAST ID) for the user, which can be used when specifying a grantee in S3 ACLs. 'aggregated' (default) searches all providers and returns a merged user entry. In case of conflicts between providers, attributes are resolved according to the following rules:
  * In case of conflict between local and non local providers, the local provider's attributes override those of the other providers.
  * In case of conflicting POSIX attributes on external providers, the POSIX primary provider overrules the other external provider.
  * Users are merged if their match user attributes match. The match user attribute is configurable in that you can set which attribute on the POSIX primary provider is used to match the users.
  * All groups found for the user on all providers with distinct group names are treated as distinct groups to which the user belongs. Groups are merged if they match according to a non-configurable group name attribute.
'ad', 'nis' or 'ldap' searches the specific provider only. Each of these options appears only if a provider of that type is connected to the cluster.
- `login_name` (String) Login name
- `s3_policies_ids` (Set of Number) A set of IDs of S3 policies associated with the non-local group.
- `s3_superuser` (Boolean) Set to true for S3 superuser. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `sid` (String) User SID
- `tenant_id` (Number) Tenant ID
- `uid` (Number) User UID
- `username` (String) User name
- `vid` (String) Vast user ID

### Read-Only

- `access_keys` (Attributes Set) A set of access keys with creation time, key, remote, and status. (see [below for nested schema](#nestedatt--access_keys))

<a id="nestedatt--access_keys"></a>
### Nested Schema for `access_keys`

Read-Only:

- `creation_time` (String)
- `key` (String)
- `remote` (String)
- `status` (String)
