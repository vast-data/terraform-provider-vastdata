---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_volume Resource - terraform-provider-vastdata"
subcategory: ""
description: |-
  
---

# vastdata_volume (Resource)



## Example Usage

```terraform
###Creating A 150 GB Volume####

data "vastdata_view_policy" "default" {
  name = "default"
}

resource "vastdata_view" "blockA-view" {
  path                 = "/blockA"
  name                 = "blockA"
  is_default_subsystem = false
  policy_id            = data.vastdata_view_policy.default.id
  create_dir           = "true"
  protocols            = ["BLOCK"]
}

resource "vastdata_volume" "volume01" {
  name        = "/volume1"
  size        = 150000000000
  view_id     = vastdata_view.blockA-view.id
  volume_tags = ["key1:value1", "key2:value2"]
}

#### Mapping blockhosts to a volume #####
resource "vastdata_blockhost" "hostA" {
  name      = "hostA"
  tenant_id = 1
  nqn       = "nqn.2014-08.org.nvmexpress:ABCDEFGHIJKL"
}


resource "vastdata_volume" "volume01" {
  name        = "/volume1"
  size        = 150000000000
  view_id     = vastdata_view.blockA-view.id
  volume_tags = ["key1:value1", "key2:value2"]
}

resource "vastdata_block_mapping" "volume1-block-mapping" {
  volume_id = vastdata_volume.volume01.id
  hosts_ids = [vastdata_blockhost.hostA.id]
}

#### Mapping multiple blockhosts to a volume generate byt terraform count (will also work for for_each) #####
#this example mapps 50 blockhosts to the same volume 
resource "vastdata_blockhost" "blockhost" {
  count = 50
  name  = "blockhost-${count.index}"
  nqn   = "nqn.2014-08.org.nvmexpress:BLCOKHOST_${count.index}"
}

resource "vastdata_volume" "volume01" {
  name        = "/volume1"
  size        = 150000000000
  view_id     = vastdata_view.blockA-view.id
  volume_tags = ["key1:value1", "key2:value2"]
}

resource "vastdata_block_mapping" "volume1-block-mapping" {
  volume_id = vastdata_volume.volume01.id
  hosts_ids = vastdata_blockhost.blockhost[*].id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)

### Optional

- `size` (Number) (Valid for versions: 5.3.0) The volume size of the volume in bytes
- `view_id` (Number) (Valid for versions: 5.3.0) The View ID to relate this volume with , must be a View with protocol defined as BLOCK
- `volume_tags` (List of String) (Valid for versions: 5.3.0) List of tags at the key:value format

### Read-Only

- `guid` (String) (Valid for versions: 5.3.0) A uniqe GUID assigned to the manager
- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
terraform import vastdata_volume.example <guid>
terraform import vastdata_volume.example <Name>
```
