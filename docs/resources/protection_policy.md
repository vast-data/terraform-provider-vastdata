---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_protection_policy Resource - vastdata"
subcategory: ""
description: |-
  
---

# vastdata_protection_policy (Resource)



## Example Usage

```terraform
############################################
# Providers
############################################

# clusterA
provider "vastdata" {
  host            = "v95"
  username        = "admin"
  password        = "123456"
  skip_ssl_verify = true
}


# clusterB
provider "vastdata" {
  alias           = "clusterB"
  host            = "v117"
  username        = "admin"
  password        = "123456"
  skip_ssl_verify = true
}

############################################
# VIP pools
############################################
resource "vastdata_vip_pool" "pool1_clusterB" {
  provider    = vastdata.clusterB
  name        = "gateway-1"
  role        = "REPLICATION"
  subnet_cidr = "24"
  ip_ranges   = [["11.0.0.10", "11.0.0.10"]]
}

resource "vastdata_vip_pool" "pool1_clusterA" {
  name        = "gateway-1"
  role        = "REPLICATION"
  subnet_cidr = "24"
  ip_ranges   = [["12.0.0.10", "12.0.0.10"]]
}

############################################
# Replication peer
############################################
resource "vastdata_replication_peer" "clusterA_clusterB_peer" {
  name        = "peer-loop-b"
  leading_vip = vastdata_vip_pool.pool1_clusterB.start_ip
  pool_id     = vastdata_vip_pool.pool1_clusterA.id
  secure_mode = "NONE"
}

############################################
# Protection policy
############################################
resource "vastdata_protection_policy" "protection_policy" {
  name             = "protection-policy-1"
  clone_type       = "NATIVE_REPLICATION"
  indestructible   = false
  prefix           = "policy-1"
  target_object_id = vastdata_replication_peer.clusterA_clusterB_peer.id

  frames = [{
    every       = "1D"
    keep_local  = "2D"
    keep_remote = "3D"
    start_at    = "2027-06-04 09:00:00"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `clone_type` (String) Specify the type of data protection. CLOUD_REPLICATION is S3 backup. LOCAL means local snapshots without replication.
- `name` (String)
- `prefix` (String) The prefix for names of snapshots created by the policy

### Optional

- `big_catalog` (Boolean) Indicates if Protection Policy will be used for VAST Catalog. There may only be 1 such policy.
- `frames` (Attributes List) Defines the schedule for snapshot creation and the local and remote retention policies. Example: every 90m start-at 2025-07-27 20:10:35 keep-local 10h keep-remote 30d (see [below for nested schema](#nestedatt--frames))
- `guid` (String) Do not specify this parameter.
- `id` (Number) Do not specify this parameter.
- `indestructible` (Boolean) Set to true to protect the protection policy from accidental or malicious deletion with the indestructibility feature. If this setting is enabled, authorized unlocking of the cluster's indestructibility mechanism is required to do any of the following: modifying the policy, deleting the policy or disabling this setting.
- `remote_tenant_guid` (String) remote tenant guid
- `target_object_id` (Number) ID of the remote peer. Specify ID of a ReplicationTarget (aka S3 replication peer) if clone_type is CLOUD_REPLICATION. Specify the ID of a NativeReplicationRemoteTarget if clone_type is NATIVE_REPLICATION.
- `tenant_id` (Number) Tenant ID

### Read-Only

- `created` (String)
- `handle` (String)
- `internal` (Boolean)
- `is_local` (Boolean)
- `is_on_schedule` (Boolean)
- `native_replication_remote_target` (String)
- `pretty_schedules` (Set of String)
- `remote_tenant` (Attributes) (see [below for nested schema](#nestedatt--remote_tenant))
- `replication_target` (String)
- `schedule_miss` (Number)
- `state` (String) State of Protection Policy
- `sync_interval` (Number) A sync point is a common restore point for all group members. This value guarantees such a sync point exists in this duration. In other words, this is the maximal sync duration gap between other members.
- `target_guid` (String)
- `target_name` (String) Target Name
- `tenant` (Attributes) (see [below for nested schema](#nestedatt--tenant))
- `title` (String)
- `url` (String)

<a id="nestedatt--frames"></a>
### Nested Schema for `frames`

Optional:

- `every` (String) Snapshot frequency (e.g., '1d' or '12h').
- `keep_local` (String) Local retention period (e.g., '7d').
- `keep_remote` (String) Remote retention period (e.g., '30d').
- `start_at` (String) Start time for the snapshot schedule (e.g., '2025-07-27 20:10:35', in UTC).


<a id="nestedatt--remote_tenant"></a>
### Nested Schema for `remote_tenant`

Read-Only:

- `guid` (String) Remote Tenant guid
- `name` (String) Remote Tenant name


<a id="nestedatt--tenant"></a>
### Nested Schema for `tenant`

Read-Only:

- `id` (Number) Tenant ID
- `name` (String) Tenant Name
