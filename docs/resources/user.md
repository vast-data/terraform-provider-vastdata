---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vastdata_user Resource - vastdata"
subcategory: ""
description: |-
  
---

# vastdata_user (Resource)



## Example Usage

```terraform
# Create a user with a specific UID.
resource "vastdata_user" "example-user" {
  name = "example"
  uid  = 9000
}

# ---------------------
# Complete examples
# ---------------------


resource "vastdata_user" "vastdb_user" {
  name = "vastdb_user"
  uid  = 30109
  gids = [
    1001
  ]
}

# --------------------


resource "vastdata_group" "vastdb_group" {
  name = "vastdb_group"
  gid  = 30097
}

resource "vastdata_user" "vastdb_user" {
  name                = "vastdb_user"
  uid                 = 30109
  local               = true
  allow_create_bucket = true
  allow_delete_bucket = true
  s3_superuser        = false
  leading_gid         = vastdata_group.vastdb_group.gid
  gids = [
    1001,
    vastdata_group.vastdb_group.gid
  ]
}

# --------------------

data "vastdata_tenant" "vastdb_tenant" {
  name = "default"
}

resource "vastdata_s3_policy" "vastdb_s3policy" {
  name      = "vastdb_s3policy"
  tenant_id = data.vastdata_tenant.vastdb_tenant.id
  policy    = <<EOT
        {
           "Version":"2012-10-17",
           "Statement":[
              {
                 "Effect":"Allow",
                 "Action": "s3:ListAllMyBuckets",
                 "Resource":"*"
              },
              {
                 "Effect":"Allow",
                 "Action":["s3:ListObjects","s3:GetBucketLocation"],
                 "Resource":"arn:aws:s3:::DOC-EXAMPLE-BUCKET1"
              },
              {
                 "Effect":"Allow",
                 "Action":[
                    "s3:PutObject",
                    "s3:PutObjectAcl",
                    "s3:GetObject",
                    "s3:GetObjectAcl",
                    "s3:DeleteObject"
                 ],
                 "Resource":"arn:aws:s3:::DOC-EXAMPLE-BUCKET1/*"
              }
           ]
        }
        EOT
}

resource "vastdata_user" "vastdb_user" {
  name = "vastdb_user"
  uid  = 30109
  s3_policies_ids = [
    vastdata_s3_policy.vastdb_s3policy.id
  ]
}

# --------------------
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) User name

### Optional

- `allow_create_bucket` (Boolean) Set to true to give the user permission to create S3 buckets. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `allow_delete_bucket` (Boolean) Set to true to give the user permission to delete S3 buckets. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `gids` (Set of Number) List of group GIDs of all groups to which the user should belong.
- `leading_gid` (Number) Leading GID
- `local` (Boolean) Not in use
- `local_provider_id` (Number) The ID of the local provider to which to add the user
- `s3_policies_ids` (Set of Number) S3 policies IDs, denoting which S3 identity policies are associated with the user. The user is granted and denied S3 permissions according to the associated S3 identity policies.
- `s3_superuser` (Boolean) Set to true to give the user S3 superuser permission. In case of conflict with an S3 identity policy attached to the user or to a relevant group, this setting is overridden.
- `uid` (Number) NFS UID

### Read-Only

- `group_count` (Number) Group Count
- `groups` (Set of String) List of groups to which the user belongs
- `guid` (String) Global unique ID
- `id` (Number) The ID of this resource.
- `leading_group_gid` (Number) Leading Group GID
- `leading_group_name` (String) Leading Group
- `local_provider` (Attributes) (see [below for nested schema](#nestedatt--local_provider))
- `primary_group_sid` (String) Primary group SID
- `s3_policies` (Attributes Set) (see [below for nested schema](#nestedatt--s3_policies))
- `sid` (String) SID
- `sids` (Set of String) SID list
- `title` (String)
- `url` (String) Endpoint URL for API operations on the user
- `vid` (Number) User's VAST ID

<a id="nestedatt--local_provider"></a>
### Nested Schema for `local_provider`

Read-Only:

- `id` (Number) ID of the local provider
- `name` (String) Name of the local provider


<a id="nestedatt--s3_policies"></a>
### Nested Schema for `s3_policies`

Read-Only:

- `id` (Number) Identity Policy ID
- `name` (String) Identity Policy name
